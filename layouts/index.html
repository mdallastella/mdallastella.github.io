{{ define "extras" }}
<link rel="preload" as="image" href="img/portrait.webp" type="image/webp" fetchpriority="high">
{{ end }}

{{ define "main" }}
<section class="row-fluid">
  <!-- Left column: portrait + content + social -->
  <div id="profile" class="col-12 offset-md-2 col-md-4">

    <!-- Portrait -->
    <div id="portrait">
      <img class="portrait" src="img/portrait.webp" alt="Marco's portrait" />
    </div>

    <!-- Content -->
    <div id="content">
      {{ .Content }}
    </div>

    <!-- Social -->
    <div id="social">
      {{ partialCached "social.html" . }}
    </div>
  </div>

  <!-- Right column: recent posts -->
  <div id="posts" class="col-12 offset-md-7 col-md-4">
    <hgroup>
      <h2>Recent posts</h2>
    </hgroup>
    <ul>
      {{ range first 5 (where site.RegularPages "Section" "posts") }}
      <li>{{ partial "post-link.html" . }}</li>
      {{ end }}
    </ul>
    <a href="/posts/">Moreâ€¦</a>
  </div>
</section>
{{ end }}
